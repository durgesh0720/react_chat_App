<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Jitsi Meet</title>
    <script src="https://meet.jit.si/external_api.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #meet { width: 100%; height: 600px; margin-top: 10px; }
        button { padding: 10px 15px; font-size: 16px; margin: 10px; }
    </style>
</head>
<body>
    <h2>Minimal Jitsi Video Chat</h2>
    <p>Room ID: <span id="roomID"></span></p>
    <button onclick="startMeeting()">Start Meeting</button>
    <button onclick="endMeeting()">End Meeting</button>
    <div id="meet"></div>

    <script>
        let api = null;
        let roomName = "Room-" + Math.random().toString(36).substr(2, 6); // Generate Unique Room ID
        document.getElementById("roomID").innerText = roomName; // Show Room ID

        function startMeeting() {
            const domain = "meet.jit.si";
            const options = {
                roomName: roomName,
                width: "100%",
                height: 600,
                parentNode: document.getElementById("meet"),
                configOverwrite: {
                    startWithAudioMuted: true, // Mute audio on start
                    startWithVideoMuted: false, // Video ON
                    disableInviteFunctions: false, // Disable "Invite" button
                    prejoinPageEnabled: false, // Skip the prejoin page
                    enableWelcomePage: false, // Remove welcome page
                    enableClosePage: false // Prevent redirect after meeting ends
                },
                interfaceConfigOverwrite: {
                    SHOW_JITSI_WATERMARK: false, // Hide Jitsi logo
                    SHOW_BRAND_WATERMARK: false,
                    SHOW_WATERMARK_FOR_GUESTS: false,
                    SHOW_CHROME_EXTENSION_BANNER: false,
                    TOOLBAR_BUTTONS: [ "microphone", "camera", "hangup" ], // Only Mic, Camera, and Hangup
                    HIDE_INVITE_MORE_HEADER: true, // Hide Invite Button
                    MOBILE_APP_PROMO: false // Disable mobile app suggestion
                },
                userInfo: {
                    displayName: "Guest User"
                }
            };
            api = new JitsiMeetExternalAPI(domain, options);
        }

        function endMeeting() {
            if (api) {
                api.dispose(); // Ends the meeting
            }
        }
    </script>
</body>
</html>
